
import axios from "axios";
import {AuthService} from "../services/AuthService";
import {localStorageKeyAuth} from "../utils/constants";

export const setAuth = (bool) => {
    return {
        type: 'SET_AUTH',
        payload: bool
    }
}

export const setModalOpen = (bool) => {
    return {
        type: 'SET_MODAL',
        payload: bool
    }
}

export const setFormType = (bool) => {
    return {
        type: 'SET_FORM_TYPE',
        payload: bool
    }
}

export const loginUser = (user) => {
    return {
        type: 'USER_FETCHED',
        payload: user
    }
}

export const checkAuth = async () => {
    try {
        const authApi = new AuthService()
        const response = await authApi.refresh()
        localStorage.setItem(localStorageKeyAuth, response.data.accessToken)
        return response
    } catch (e) {
    }
}
