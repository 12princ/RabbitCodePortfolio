const CryptoJS = require('crypto-js')
class EncryptionService {
    secretKey = "encryptionKey"

    encrypt (json) {
        const cypherText = encodeURIComponent(CryptoJS.AES.encrypt(JSON.stringify(json), this.secretKey).toString())
        return cypherText
    }

    decrypt (cypherText) {
        const bytes = CryptoJS.AES.decrypt(decodeURIComponent(cypherText), this.secretKey)
        const data = JSON.parse(bytes.toString(CryptoJS.enc.Utf8))
        return data
    }
}

module.exports = new EncryptionService()